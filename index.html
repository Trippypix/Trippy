<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hussein Adam — Roblox Scripter</title>
  <meta name="description" content="Hi, I’m Hussein Adam—also known as Trippy/Sinvert_. Roblox developer specializing in LuaU scripting. Clean, scalable systems and polished gameplay with clear, honest communication." />
  <style>
    :root{
      --bg:#0b0c12; --layer:#111528; --layer-2:#0f1424; --card:#151a2b;
      --text:#f2f4ff; --muted:#c7cbea; --muted-2:#a9afd0;
      --accent:#7c5cff; --accent-2:#31e1ff; --ring:rgba(124,92,255,.45);
      --shadow:rgba(0,0,0,.5); --radius:16px; --gap:20px; --max:1160px;
      --input-bg:#0f1220; --input-bd:rgba(165,171,199,.18); --link:#cfd6ff;
    }
    :root[data-theme="light"]{
      --bg:#ffffff; --layer:#f6f7fb; --layer-2:#eef1ff; --card:#f4f6ff;
      --text:#161722; --muted:#4b5073; --muted-2:#646b8f;
      --shadow:rgba(0,0,0,.08); --ring:rgba(124,92,255,.25);
      --input-bg:#ffffff; --input-bd:rgba(0,0,0,.12); --link:#3347ff;
    }

    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font:16px/1.65 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,sans-serif}
    a{color:var(--link);text-decoration:none}
    a:hover{text-decoration:underline}
    .wrap{max-width:var(--max);margin:0 auto;padding:22px}

    :where(button,a,.card,.action,.btn){transition:transform .2s ease,box-shadow .2s ease,background-color .2s ease,border-color .2s ease,opacity .2s ease}
    :where(.btn,.action):hover{transform:translateY(-2px)}
    :where(.btn,.action):active{transform:translateY(0)}

    body::before{
      content:"";position:fixed;inset:-25%;z-index:-2;pointer-events:none;filter:blur(90px);opacity:.32;
      background:
        radial-gradient(60% 60% at 20% 20%,rgba(124,92,255,.55),transparent 60%),
        radial-gradient(50% 50% at 80% 10%,rgba(49,225,255,.45),transparent 70%),
        radial-gradient(40% 40% at 20% 90%,rgba(124,92,255,.35),transparent 70%);
      animation:bgWave 18s ease-in-out infinite alternate
    }
    @keyframes bgWave{0%{transform:translate3d(0,0,0) rotate(0)}50%{transform:translate3d(4%,-3%,0) rotate(25deg)}100%{transform:translate3d(-5%,5%,0) rotate(50deg)}}

    .nav{position:sticky;top:0;z-index:40;background:rgba(16,20,40,.78);backdrop-filter:blur(8px);border-bottom:1px solid rgba(165,171,199,.12)}
    :root[data-theme="light"] .nav{background:rgba(255,255,255,.8)}
    .nav .inner{display:flex;align-items:center;justify-content:space-between;gap:14px}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800;letter-spacing:.3px;color:inherit}
    .logo{width:28px;height:28px;border-radius:10px;background:linear-gradient(135deg,var(--accent),var(--accent-2));box-shadow:0 6px 18px var(--shadow)}
    .links{display:flex;gap:14px;align-items:center}
    .links a{padding:8px 10px;border-radius:10px;opacity:.95;color:inherit}
    .links a:hover{background:rgba(124,92,255,.16);opacity:1;text-decoration:none}
    .theme{border:0;padding:8px 10px;border-radius:10px;background:var(--card);color:inherit;cursor:pointer}

    .hero{position:relative;border-bottom:1px solid rgba(165,171,199,.12)}
    .hero .inner{display:grid;grid-template-columns:1.1fr .9fr;gap:clamp(16px,3vw,42px);align-items:center}
    @media (max-width:900px){.hero .inner{grid-template-columns:1fr}}
    .intro{display:flex;flex-direction:column;gap:10px}
    .eyebrow{font-weight:800;opacity:.85;letter-spacing:.02em}
    .title{font-size:clamp(32px,5.8vw,60px);line-height:1.05;margin:0}
    .tagline{color:var(--muted);margin:4px 0 10px}
    .cta{display:flex;gap:12px;flex-wrap:wrap}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:11px 16px;border-radius:12px;border:1px solid rgba(165,171,199,.18);background:linear-gradient(180deg,rgba(124,92,255,.26),rgba(124,92,255,.08));color:#fff;font-weight:800;box-shadow:0 10px 22px var(--shadow)}
    .btn.secondary{background:var(--card);color:inherit;font-weight:700}

    .hero-box{display:grid;gap:var(--gap)}
    .portrait{aspect-ratio:4/3;border-radius:18px;overflow:hidden;background:linear-gradient(135deg,var(--card),var(--layer-2));border:1px solid var(--ring);box-shadow:0 22px 44px var(--shadow);display:grid;place-items:center}
    .portrait img{width:100%;height:100%;object-fit:cover;display:block}

    .stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:var(--gap);max-width:520px;margin:0 auto}
    .stat{background:linear-gradient(180deg,var(--card),var(--layer-2));padding:14px;border-radius:14px;border:1px solid rgba(165,171,199,.14);box-shadow:0 10px 26px var(--shadow);text-align:center}
    .stat .k{font-size:clamp(22px,3vw,28px);font-weight:900}
    .stat .l{color:var(--muted);margin-top:-2px}

    section{scroll-margin-top:80px}
    .section-title{display:flex;align-items:center;justify-content:space-between;margin:22px 0 10px}
    .section-title h2{margin:0;font-size:clamp(22px,3vw,30px)}
    .muted{color:var(--muted)}

    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:var(--gap)}
    .card{background:linear-gradient(180deg,var(--card),var(--layer-2));border:1px solid rgba(165,171,199,.12);border-radius:16px;padding:16px;box-shadow:0 18px 36px var(--shadow)}

    .project{grid-column:span 4;display:flex;flex-direction:column;gap:12px;transform:translateY(14px);opacity:0}
    .project.appear{transform:none;opacity:1;transition:transform .6s cubic-bezier(.2,.8,.2,1),opacity .6s ease}
    @media (max-width:1050px){.project{grid-column:span 6}}
    @media (max-width:720px){.project{grid-column:span 12}}

    .carousel{aspect-ratio:16/9;border-radius:12px;overflow:hidden;background:linear-gradient(135deg,rgba(124,92,255,.22),rgba(49,225,255,.15));display:grid;place-items:center;position:relative}
    .carousel .slide{position:absolute;inset:0;display:flex;align-items:center;justify-content:center}
    .carousel iframe,.carousel video,.carousel img{width:100%;height:100%;object-fit:cover;display:block}
    .car-btn{position:absolute;top:50%;transform:translateY(-50%);z-index:2;border:1px solid rgba(165,171,199,.25);background:var(--layer);color:var(--text);padding:8px 10px;border-radius:12px;cursor:pointer;opacity:.9}
    .car-btn:hover{opacity:1}
    .car-btn.prev{left:10px}
    .car-btn.next{right:10px}
    .car-dots{position:absolute;bottom:8px;left:0;right:0;display:flex;gap:6px;justify-content:center}
    .car-dot{width:8px;height:8px;border-radius:50%;background:rgba(255,255,255,.35)}
    .car-dot.active{background:#fff}

    .actions{display:flex;gap:10px;flex-wrap:wrap}
    .action{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:12px;background:var(--layer);border:1px solid rgba(165,171,199,.18);text-decoration:none;font-weight:600;color:inherit}
    .action.primary{background:linear-gradient(180deg,rgba(124,92,255,.26),rgba(124,92,255,.08));color:#fff}

    .desc{background:linear-gradient(180deg,var(--layer),var(--layer-2));border:1px solid rgba(124,92,255,.28);border-radius:12px;padding:10px 12px;color:var(--text)}

    .acc{border-radius:12px;overflow:hidden;border:1px solid rgba(165,171,199,.16);background:linear-gradient(180deg,var(--layer),var(--layer-2))}
    .acc-sum{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;font-weight:700;cursor:pointer;background:rgba(124,92,255,.12)}
    .acc-body{padding:12px;color:var(--text)}
    .acc[open] .acc-sum{background:rgba(124,92,255,.18)}

    .plan{grid-column:span 4;display:flex;flex-direction:column;gap:12px;transform:translateY(14px);opacity:0}
    .plan.appear{transform:none;opacity:1;transition:transform .6s cubic-bezier(.2,.8,.2,1),opacity .6s ease}
    @media (max-width:1050px){.plan{grid-column:span 6}}
    @media (max-width:720px){.plan{grid-column:span 12}}
    .plan .head{display:flex;align-items:flex-start;justify-content:space-between;gap:12px}
    .plan h3{margin:0;font-size:20px}
    .price{font-weight:800;font-size:18px;padding:6px 10px;border-radius:999px;background:rgba(124,92,255,.18);border:1px solid rgba(165,171,199,.18)}
    .pill{padding:6px 10px;border-radius:999px;background:var(--layer);border:1px solid rgba(165,171,199,.18);font-size:13px}
    .list{margin:6px 0 0 0;padding-left:18px;color:var(--text)}
    .list li{margin:6px 0}

    .about{display:grid;grid-template-columns:.6fr .4fr;gap:var(--gap)}
    @media (max-width:900px){.about{grid-template-columns:1fr}}
    .skills{display:flex;flex-wrap:wrap;gap:10px}
    .badge{background:linear-gradient(180deg,var(--card),var(--layer-2));border:1px solid rgba(165,171,199,.12);padding:10px 12px;border-radius:10px;font-weight:600}

    .contact-wrap{display:grid;grid-template-columns:1fr 1fr;gap:var(--gap)}
    @media (max-width:900px){.contact-wrap{grid-template-columns:1fr}}
    .info{display:flex;flex-direction:column;gap:16px}
    .info-item{display:grid;grid-template-columns:auto 1fr;gap:12px;align-items:center}
    .icon{width:28px;height:28px;display:grid;place-items:center;border-radius:10px;background:linear-gradient(135deg,var(--accent),var(--accent-2))}
    .info a{color:var(--link)}

    .form{padding:16px}
    .field{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}
    .input,.textarea{background:var(--input-bg);border:1px solid var(--input-bd);color:var(--text);padding:12px 12px;border-radius:12px}
    .input:focus,.textarea:focus{outline:2px solid var(--ring)}
    .textarea{min-height:140px;resize:vertical}
    .send{width:100%;display:inline-flex;justify-content:center;align-items:center;gap:8px;padding:11px 16px;border-radius:12px;border:1px solid rgba(165,171,199,.2);background:linear-gradient(180deg,rgba(124,92,255,.26),rgba(124,92,255,.08));color:#fff;font-weight:800}
    .hint{font-size:13px;color:var(--muted)}

    footer{margin:42px 0 60px;color:var(--muted);text-align:center}

    #cursorGlow{position:fixed;left:0;top:0;transform:translate(-50%,-50%);width:260px;height:260px;border-radius:999px;pointer-events:none;z-index:30;mix-blend-mode:screen;opacity:.45;background:radial-gradient(closest-side, rgba(124,92,255,.65), rgba(49,225,255,.45) 45%, rgba(0,0,0,0) 70%)}
    :root[data-theme="light"] #cursorGlow{mix-blend-mode:multiply;opacity:.35}
    @media (pointer:coarse){#cursorGlow{display:none}}

    .lightbox{position:fixed;inset:0;background:rgba(0,0,0,.5);backdrop-filter:blur(4px);display:none;align-items:center;justify-content:center;z-index:1000;padding:24px}
    .lightbox.open{display:flex}
    .lb-frame{width:min(92vw,1100px);height:min(90vh,680px);background:var(--card);border:1px solid rgba(165,171,199,.25);border-radius:16px;box-shadow:0 30px 80px rgba(0,0,0,.55);display:grid;grid-template-rows:auto 1fr auto}
    .lb-top{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;border-bottom:1px solid rgba(165,171,199,.18)}
    .lb-stage{position:relative;overflow:hidden;background:var(--layer-2)}
    .lb-slide{position:absolute;inset:0;display:flex;align-items:center;justify-content:center}
    .lb-media{transform-origin:0 0}
    .lb-controls{display:flex;align-items:center;gap:8px;justify-content:space-between;padding:10px 12px;border-top:1px solid rgba(165,171,199,.18)}
    .ctl-group{display:flex;gap:8px;align-items:center}
    .lb-btn{border:1px solid rgba(165,171,199,.25);background:var(--layer);color:var(--text);padding:8px 10px;border-radius:10px;cursor:pointer}
    .lb-dots{display:flex;gap:6px;align-items:center}
    .lb-dot{width:8px;height:8px;border-radius:999px;background:rgba(255,255,255,.35)}
    .lb-dot.active{background:#fff}
  </style>
</head>
<body>
  <div id="cursorGlow" aria-hidden="true"></div>

  <nav class="nav">
    <div class="wrap inner">
      <a class="brand" href="#hero"><span class="logo" aria-hidden="true"></span> <span id="brand-name">Hussein Adam</span></a>
      <div class="links">
        <a href="#projects">Projects</a>
        <a href="#packages">Packages</a>
        <a href="#about">About</a>
        <a href="#contact">Contact</a>
        <button class="theme" id="themeToggle" title="Toggle theme">🌗</button>
      </div>
    </div>
  </nav>

  <header id="hero" class="hero">
    <div class="wrap inner">
      <div class="intro">
        <div class="eyebrow">Hello, welcome</div>
        <h1 class="title">I'm <span id="name-1">Hussein Adam</span></h1>
        <p class="tagline" id="hero-sub">I build Roblox experiences — scalable LuaU systems, smooth gameplay, and clean UI.</p>
        <div class="cta">
          <a class="btn" href="#packages">Hire Me</a>
          <a class="btn secondary" href="#projects">See Portfolio</a>
        </div>
      </div>
      <div class="hero-box">
        <div class="portrait">
          <svg width="72" height="72" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path d="M4 4h16v16H4z" stroke="currentColor" stroke-width="1.5" opacity=".5"/>
            <path d="M7 14l3-3 2 2 4-4" stroke="currentColor" stroke-width="1.5"/>
          </svg>
        </div>
        <div class="stats">
          <div class="stat card"><div class="k" id="stat-1">3+</div><div class="l">Years Experience</div></div>
          <div class="stat card"><div class="k" id="stat-2">399K+</div><div class="l">Total Visits Contributed!</div></div>
        </div>
      </div>
    </div>
  </header>

  <section id="projects" class="wrap">
    <div class="section-title">
      <h2>Featured Projects</h2>
      <div class="muted">A few hand-picked works</div>
    </div>
    <div id="projectGrid" class="grid"></div>
  </section>

  <section id="packages" class="wrap">
    <div class="section-title">
      <h2>Packages</h2>
      <div class="muted">Showing <span id="countShown">0</span> of <span id="countTotal">0</span></div>
    </div>
    <div id="plansGrid" class="grid"></div>
  </section>

  <section id="about" class="wrap">
    <div class="section-title"><h2>About</h2></div>
    <div class="about">
      <div class="card">
        <p id="about-text" class="muted"></p>
        <div style="margin-top:12px;display:flex;gap:10px;flex-wrap:wrap">
          <a class="action" id="roblox-link" target="_blank" rel="noreferrer">Roblox</a>
        </div>
      </div>
      <div class="card">
        <div class="section-title" style="margin:0 0 10px"><h3 style="margin:0">Skills</h3></div>
        <div id="skills" class="skills"></div>
      </div>
    </div>
  </section>

  <section id="contact" class="wrap">
    <div style="text-align:center;margin:24px 0 6px" class="muted">GET IN TOUCH</div>
    <h2 style="text-align:center;margin:0 0 6px">Let's Build Something Amazing</h2>
    <p class="muted" style="text-align:center;margin:0 0 18px">Interested in collaborating or have a question? Send a message or reach out via email/Discord.</p>

    <div class="contact-wrap">
      <div class="info card">
        <div class="info-item">
          <span class="icon" aria-hidden="true">✉️</span>
          <div>
            <div style="font-weight:700">Email</div>
            <a id="email-inline" href="#">you@example.com</a>
          </div>
        </div>
        <div class="info-item">
          <span class="icon" aria-hidden="true">💬</span>
          <div>
            <div style="font-weight:700">Discord</div>
            <div id="discord-inline" class="muted" style="font-weight:800;font-size:18px">yourusername</div>
          </div>
        </div>
      </div>

      <form id="contactForm" class="card form" action="https://formspree.io/f/mzzabngv" method="POST" autocomplete="on">
        <div class="field"><label for="name">Your Name</label><input class="input" id="name" name="name" placeholder="Your Name" required /></div>
        <div class="field"><label for="from">Your Email</label><input class="input" id="from" name="email" type="email" placeholder="you@example.com" required /></div>
        <div class="field"><label for="msg">Your Message</label><textarea class="textarea" id="msg" name="message" placeholder="Tell me a bit about your project…" required></textarea></div>
        <input type="text" name="_gotcha" style="position:absolute;left:-5000px;opacity:0" tabindex="-1" autocomplete="off" />
        <button class="send" type="submit" id="sendBtn">Send Message</button>
        <div class="hint" id="formHint">This uses Formspree to send email securely.</div>
      </form>
    </div>
  </section>

  <footer class="wrap"><p>© <span id="year"></span> <span id="footer-name">Hussein Adam</span>.</p></footer>

  <script id="site-data" type="application/json">
  {
    "profile": {
      "name": "Hussein Adam",
      "tagline": "I build Roblox experiences — scalable LuaU systems, smooth gameplay, and clean UI.",
      "about": "Roblox scripter focused on robust systems, reusable modules, and smooth player experiences. I care about performance, clarity, and shipping.",
      "links": {"roblox": "https://www.roblox.com/users/1035292126/profile"},
      "skills": ["LuaU / Roblox","OOP Modules","Systems Design","UI / TweenService","Datastores","Optimization"],
      "stats": [{"value":"3+","label":"Years Experience"},{"value":"399K+","label":"Total Visits Contributed!"}]
    },
    "projects": [
      {
        "variant": "showcase",
        "title": "Unknown [STORY]",
        "link": "https://www.roblox.com/games/123456/Unknown-STORY",
        "media": [
          {"type":"image","src":"https://picsum.photos/seed/story1/1280/720"},
          {"type":"video","src":"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},
          {"type":"image","src":"https://picsum.photos/seed/story2/1280/720"}
        ],
        "highlight": "Story-driven experience with dynamic cutscenes, dialogue, quests and objective systems.",
        "contributions": [
          "Engineered a dynamic cutscene and dialogue system.",
          "Developed event-driven minigame mechanics.",
          "Implemented an interactive quest and objective system.",
          "Managed comprehensive game state logic."
        ],
        "about": "A story-driven adventure with dialogue, item quests, mazes and timed challenges, unfolding with suspenseful encounters."
      },
      {
        "variant": "showcase",
        "title": "Tycoon Economy System",
        "link": "",
        "media": [
          {"type":"image","src":"https://picsum.photos/seed/tycoon1/1280/720"},
          {"type":"video","src":"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},
          {"type":"image","src":"https://picsum.photos/seed/tycoon2/1280/720"}
        ],
        "highlight": "Modular economy with anti-exploit checks and server authority.",
        "about": "Economy modules including stores, crafting and upgrades with secure server-authoritative flows and datastores."
      }
    ],
    "packages": [
      {"id":"quick-fix","title":"Quick Fix","duration":"1–3 hours","priceMin":10,"priceMax":30,"unit":"hour","desc":"Small bug fixes, minor script edits, quick tweaks.","deliverables":["Bug fix or small change","Code comments","Tested in Studio"],"notes":"Minimum 2 hours."},
      {"id":"gameplay-system","title":"Game systems","duration":"1–2 weeks","priceMin":150,"priceMax":400,"unit":"fixed","desc":"Price depends on the complexity of the needed systems.","deliverables":["Server + client scripts","Configuration options","Performance considerations"],"notes":"Milestones + demo check-ins."},
      {"id":"ui-polish","title":"UI & UX Polish","duration":"1–3 days","priceMin":100,"priceMax":200,"unit":"fixed","desc":"HUD/menus polish, TweenService animations, responsiveness.","deliverables":["Reusable UI components","Style guide snippet","Tweens & transitions"],"notes":"Works with your existing assets."}
    ],
    "contact": {"email":"husseinsocool99@gmail.com","discord":"Sinvert_"}
  }
  </script>

  <div class="lightbox" id="lightbox" aria-modal="true" role="dialog">
    <div class="lb-frame">
      <div class="lb-top">
        <div id="lbTitle"></div>
        <div class="ctl-group">
          <button class="lb-btn" id="lbZoomIn">+</button>
          <button class="lb-btn" id="lbZoomOut">−</button>
          <button class="lb-btn" id="lbZoomReset">Reset</button>
          <button class="lb-btn" id="lbClose">✕</button>
        </div>
      </div>
      <div class="lb-stage" id="lbStage"></div>
      <div class="lb-controls">
        <div class="ctl-group">
          <button class="lb-btn" id="lbPrev">‹ Prev</button>
          <button class="lb-btn" id="lbNext">Next ›</button>
        </div>
        <div class="lb-dots" id="lbDots"></div>
      </div>
    </div>
  </div>

  <script>
    const $=(s,e=document)=>e.querySelector(s);
    const $$=(s,e=document)=>Array.from(e.querySelectorAll(s));
    const data=JSON.parse($('#site-data').textContent);
    const P=data.projects||[]; const prof=data.profile||{}; const PK=data.packages||[]; const C=data.contact||{};

    $('#brand-name').textContent=prof.name||'Your Name';
    $('#name-1').textContent=prof.name||'Your Name';
    $('#hero-sub').textContent=prof.tagline||'';
    $('#footer-name').textContent=prof.name||'Your Name';
    const y=new Date().getFullYear(); $('#year')?.textContent=y;

    if (Array.isArray(prof.stats)){
      const s1=prof.stats[0], s2=prof.stats[1];
      if(s1){ $('#stat-1').textContent=s1.value||''; $('.stats .stat:nth-child(1) .l').textContent=s1.label||''; }
      if(s2){ $('#stat-2').textContent=s2.value||''; $('.stats .stat:nth-child(2) .l').textContent=s2.label||''; }
    }

    $('#about-text').textContent=prof.about||'';
    const setHref=(id,url)=>{const el=document.getElementById(id); if(el&&url){ el.href=url; }};
    setHref('roblox-link', (prof.links&&prof.links.roblox)||'#');
    const skillsWrap=$('#skills'); (prof.skills||[]).forEach(s=>{const b=document.createElement('span');b.className='badge';b.textContent=s;skillsWrap.appendChild(b)});

    function youTubeToEmbed(u){try{const url=new URL(u); if(url.hostname.includes('youtube.com')&&url.searchParams.get('v')) return `https://www.youtube.com/embed/${url.searchParams.get('v')}`; if(url.hostname==='youtu.be') return `https://www.youtube.com/embed${url.pathname}`; return u;}catch(_){return u}}

    const grid=$('#projectGrid');

    function buildInlineCarousel(media, title, link){
      const car=document.createElement('div'); car.className='carousel';
      const slide=document.createElement('div'); slide.className='slide'; car.appendChild(slide);
      const btnPrev=document.createElement('button'); btnPrev.className='car-btn prev'; btnPrev.type='button'; btnPrev.textContent='‹';
      const btnNext=document.createElement('button'); btnNext.className='car-btn next'; btnNext.type='button'; btnNext.textContent='›';
      const dots=document.createElement('div'); dots.className='car-dots'; car.appendChild(btnPrev); car.appendChild(btnNext); car.appendChild(dots);
      let idx=0;
      function mount(i){
        if(!media.length) return;
        idx=(i+media.length)%media.length;
        dots.innerHTML=''; slide.innerHTML='';
        const m=media[idx]||{};
        let el;
        if(m.type==='video'){
          el=document.createElement('iframe'); el.src=youTubeToEmbed(m.src||'');
          el.setAttribute('allow','accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture');
          el.setAttribute('frameborder','0'); el.setAttribute('allowfullscreen','');
        }else{
          el=document.createElement('img'); el.src=m.src||''; el.alt=title||'';
        }
        el.style.cursor='zoom-in';
        el.addEventListener('click',()=>openLightbox(media, idx, title));
        slide.appendChild(el);
        media.forEach((_,n)=>{const d=document.createElement('span'); d.className='car-dot'+(n===idx?' active':''); dots.appendChild(d)});
      }
      btnPrev.addEventListener('click',()=>mount(idx-1));
      btnNext.addEventListener('click',()=>mount(idx+1));
      if(media.length) mount(0);
      else { slide.textContent='No media'; }
      return car;
    }

    function renderShowcase(p){
      const art=document.createElement('article'); art.className='project card';
      const car=buildInlineCarousel(p.media||[], p.title, p.link);
      const tWrap=document.createElement('div');
      const h3=document.createElement('h3'); h3.textContent=p.title||'Untitled'; tWrap.appendChild(h3);
      if(p.highlight){ const desc=document.createElement('div'); desc.className='desc'; desc.textContent=p.highlight; tWrap.appendChild(desc); }
      if (Array.isArray(p.contributions)&&p.contributions.length){
        const accC=document.createElement('details'); accC.className='acc';
        const sumC=document.createElement('summary'); sumC.className='acc-sum'; sumC.innerHTML='<span>My Contributions</span><span>▾</span>';
        const bodyC=document.createElement('div'); bodyC.className='acc-body';
        const ul=document.createElement('ul'); ul.style.margin='0'; ul.style.paddingLeft='18px';
        p.contributions.forEach(it=>{const li=document.createElement('li'); li.textContent=it; ul.appendChild(li)});
        bodyC.appendChild(ul); accC.appendChild(sumC); accC.appendChild(bodyC); tWrap.appendChild(accC);
      }
      if(p.about){
        const acc=document.createElement('details'); acc.className='acc';
        const sum=document.createElement('summary'); sum.className='acc-sum'; sum.innerHTML='<span>About the Project</span><span>▾</span>';
        const body=document.createElement('div'); body.className='acc-body'; body.textContent=p.about||'';
        acc.appendChild(sum); acc.appendChild(body); tWrap.appendChild(acc);
      }
      const actions=document.createElement('div'); actions.className='actions';
      if(p.link && p.link.trim()){
        const a=document.createElement('a'); a.className='action primary'; a.href=p.link; a.target='_blank'; a.rel='noreferrer'; a.textContent='Open Roblox';
        actions.appendChild(a);
      }
      art.appendChild(car); art.appendChild(tWrap); if(actions.children.length) art.appendChild(actions); grid.appendChild(art);
    }

    function renderProjects(list){
      grid.innerHTML='';
      list.forEach(p=>renderShowcase(p));
      requestAnimationFrame(observeAppear);
    }
    renderProjects(P);

    const plans=$('#plansGrid'); const total=PK.length; let shown=0;
    const fmt=(n)=>{ try{ return new Intl.NumberFormat(undefined,{style:'currency',currency:'USD',maximumFractionDigits:0}).format(n); }catch(_){ return `USD ${n}`; } };
    function priceText(pkg){ const u=pkg.unit==='hour'?'/hr':''; if(typeof pkg.price==='number') return `${fmt(pkg.price)}${u}`; if(typeof pkg.priceMin==='number'&&typeof pkg.priceMax==='number') return `${fmt(pkg.priceMin)}–${fmt(pkg.priceMax)}${u}`; if(typeof pkg.priceMin==='number') return `${fmt(pkg.priceMin)}+${u}`; return 'Contact'; }
    PK.forEach(pkg=>{ const card=document.createElement('article'); card.className='plan card'; card.id=pkg.id||''; card.innerHTML=`<div class="head"><h3>${pkg.title}</h3><span class="price">${priceText(pkg)}</span></div><p class="muted">${pkg.desc||''}</p><div class="pill">Duration: ${pkg.duration||'N/A'}</div><ul class="list">${(pkg.deliverables||[]).map(d=>`<li>${d}</li>`).join('')}</ul>${pkg.notes?`<p class="muted" style="margin:8px 0 0">${pkg.notes}</p>`:''}<div class="actions"><a class="action primary" href="#contact">Contact to Book</a></div>`; plans.appendChild(card); shown++; });
    $('#countTotal').textContent=total; $('#countShown').textContent=shown;

    function observeAppear(){ const io=new IntersectionObserver(es=>es.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('appear'); io.unobserve(e.target); }}),{threshold:.15}); $$('.project, .plan').forEach(el=>io.observe(el)); }
    observeAppear();

    if(C.email){ const mail=`mailto:${C.email}`; const el=document.getElementById('email-inline'); if(el){ el.href=mail; el.textContent=C.email; }}
    if(C.discord){ const d=document.getElementById('discord-inline'); if(d){ d.textContent=C.discord; }}

    const form=$('#contactForm'); const sendBtn=$('#sendBtn'); const hint=$('#formHint');
    form.addEventListener('submit', async (e)=>{ e.preventDefault(); sendBtn.disabled=true; sendBtn.textContent='Sending…'; hint.textContent='Sending via Formspree…'; try{ const res=await fetch(form.action,{method:'POST',body:new FormData(form),headers:{'Accept':'application/json'}}); if(res.ok){ form.reset(); hint.textContent='Thanks! Your message has been sent.'; sendBtn.textContent='Sent ✓'; } else { const d=await res.json().catch(()=>({})); hint.textContent=d.error||'Something went wrong. Try again later.'; sendBtn.textContent='Send Message'; } }catch(err){ hint.textContent='Network error. Please try again.'; sendBtn.textContent='Send Message'; } sendBtn.disabled=false; });

    const initial=localStorage.getItem('theme')|| (window.matchMedia('(prefers-color-scheme: light)').matches? 'light' : 'dark');
    document.documentElement.dataset.theme=initial;
    $('#themeToggle').addEventListener('click',()=>{ const next=document.documentElement.dataset.theme==='light'?'dark':'light'; document.documentElement.dataset.theme=next; localStorage.setItem('theme',next); });

    (function(){ const glow=$('#cursorGlow'); let x=window.innerWidth/2, y=window.innerHeight/2, tx=x, ty=y; function raf(){ x+=(tx-x)*0.12; y+=(ty-y)*0.12; glow.style.left=x+'px'; glow.style.top=y+'px'; requestAnimationFrame(raf); } window.addEventListener('mousemove',(e)=>{ tx=e.clientX; ty=e.clientY; },{passive:true}); requestAnimationFrame(raf); })();

    const lb={el:$('#lightbox'),title:$('#lbTitle'),stage:$('#lbStage'),dots:$('#lbDots'),prev:$('#lbPrev'),next:$('#lbNext'),close:$('#lbClose'),zin:$('#lbZoomIn'),zout:$('#lbZoomOut'),zreset:$('#lbZoomReset'),media:[],idx:0,scale:1,tx:0,ty:0,isPanning:false,px:0,py:0};
    function setLbTransform(){ const mediaEl=$('.lb-media', lb.stage); if(mediaEl){ mediaEl.style.transform=`translate(${lb.tx}px,${lb.ty}px) scale(${lb.scale})`; } }
    function mountLb(i){
      lb.idx=(i+lb.media.length)%lb.media.length; lb.stage.innerHTML='';
      const m=lb.media[lb.idx]||{};
      const wrap=document.createElement('div'); wrap.className='lb-slide';
      let el;
      if(m.type==='video'){
        el=document.createElement('iframe'); el.src=youTubeToEmbed(m.src||'');
        el.setAttribute('allow','accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture');
        el.setAttribute('frameborder','0'); el.setAttribute('allowfullscreen','');
        lb.scale=1; lb.tx=lb.ty=0;
      } else {
        el=document.createElement('img'); el.src=m.src||''; el.alt=lb.title.textContent||''; el.className='lb-media';
      }
      wrap.appendChild(el); lb.stage.appendChild(wrap);
      lb.dots.innerHTML=''; lb.media.forEach((_,n)=>{ const d=document.createElement('span'); d.className='lb-dot'+(n===lb.idx?' active':''); d.addEventListener('click',()=>mountLb(n)); lb.dots.appendChild(d); });
      setLbTransform();
    }
    function openLightbox(media,start=0,title=''){
      lb.media=media||[]; lb.idx=start||0; lb.scale=1; lb.tx=lb.ty=0; lb.title.textContent=title||''; mountLb(lb.idx); lb.el.classList.add('open'); document.body.style.overflow='hidden';
    }
    function closeLightbox(){ lb.el.classList.remove('open'); document.body.style.overflow=''; }

    lb.prev.addEventListener('click',()=>mountLb(lb.idx-1));
    lb.next.addEventListener('click',()=>mountLb(lb.idx+1));
    lb.close.addEventListener('click',closeLightbox);
    lb.zin.addEventListener('click',()=>{ lb.scale=Math.min(3, lb.scale+0.25); setLbTransform(); });
    lb.zout.addEventListener('click',()=>{ lb.scale=Math.max(1, lb.scale-0.25); if(lb.scale===1){ lb.tx=lb.ty=0; } setLbTransform(); });
    lb.zreset.addEventListener('click',()=>{ lb.scale=1; lb.tx=lb.ty=0; setLbTransform(); });
    $('#lightbox').addEventListener('click',(e)=>{ if(e.target===e.currentTarget) closeLightbox(); });

    lb.stage.addEventListener('wheel',(e)=>{ e.preventDefault(); const mediaEl=$('.lb-media', lb.stage); if(!mediaEl) return; const rect=mediaEl.getBoundingClientRect(); const cx=e.clientX-rect.left; const cy=e.clientY-rect.top; const old=lb.scale; const dir=e.deltaY<0?1:-1; lb.scale=Math.min(3,Math.max(1, lb.scale+dir*0.15)); const k=lb.scale/old; lb.tx = cx - k*(cx - lb.tx); lb.ty = cy - k*(cy - lb.ty); if(lb.scale===1){ lb.tx=lb.ty=0; } setLbTransform(); },{passive:false});

    lb.stage.addEventListener('mousedown',(e)=>{ const mediaEl=$('.lb-media', lb.stage); if(!mediaEl || lb.scale===1) return; lb.isPanning=true; lb.px=e.clientX; lb.py=e.clientY; e.preventDefault(); });
    window.addEventListener('mousemove',(e)=>{ if(!lb.isPanning) return; const dx=e.clientX-lb.px; const dy=e.clientY-lb.py; lb.px=e.clientX; lb.py=e.clientY; lb.tx+=dx; lb.ty+=dy; setLbTransform(); });
    window.addEventListener('mouseup',()=>{ lb.isPanning=false; });
    window.addEventListener('keydown',(e)=>{ if(!$('#lightbox').classList.contains('open')) return; if(e.key==='Escape') closeLightbox(); if(e.key==='ArrowLeft') mountLb(lb.idx-1); if(e.key==='ArrowRight') mountLb(lb.idx+1); });

    window.openLightbox=openLightbox;
  </script>
</body>
</html>
